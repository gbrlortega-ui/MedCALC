<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>IVCF-20 ‚Äì Instrumento de Vulnerabilidade Cl√≠nico-Funcional</title>
<style>
  :root{
    --bg:#f7f7fb;
    --card:#fff;
    --text:#1f2937;
    --muted:#6b7280;
    --border:#e5e7eb;
    --focus:#4f46e5;
    --ok:#065f46;--ok-bg:#d1fae5;
    --warn:#92400e;--warn-bg:#ffedd5;
    --bad:#7f1d1d;--bad-bg:#fee2e2;
  }
  *{box-sizing:border-box}

  body{
    margin:0;
    background:var(--bg);
    color:var(--text);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    font-size:0.9rem;
  }

  a{
    color:inherit;
    text-decoration:none;
  }

  /* HEADER / NAVBAR ‚Äì padr√£o da plataforma */
  header.site-header{
    position:sticky;
    top:0;
    z-index:10;
    backdrop-filter:blur(16px);
    background:linear-gradient(to bottom,rgba(245,245,247,.95),rgba(245,245,247,.86));
    border-bottom:1px solid rgba(209,213,219,.7);
  }
  .nav-inner{
    max-width:1100px;
    margin:0 auto;
    padding:12px 20px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:24px;
  }
  .brand{
    display:flex;
    align-items:center;
    gap:10px;
  }
  .brand-logo{
    height:56px;
    width:auto;
    border-radius:12px;
    border:none;
    display:block;
  }
  .brand-text{
    display:none;          /* igual aos outros m√≥dulos */
    flex-direction:column;
    line-height:1.2;
  }
  .brand-title{
    font-size:.95rem;
    font-weight:600;
  }
  .brand-subtitle{
    font-size:.7rem;
    text-transform:uppercase;
    letter-spacing:.16em;
    color:var(--muted);
  }
  .nav-links{
    display:flex;
    align-items:center;
    gap:16px;
    font-size:.82rem;
    color:var(--muted);
    flex-wrap:wrap;
  }
  .nav-back{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:5px 10px;
    border-radius:999px;
    border:1px solid #d1d5db;
    font-size:.78rem;
    background:#ffffff;
    cursor:pointer;
    transition:background .15s,transform .12s,color .15s;
  }
  .nav-back span:first-child{
    font-size:.9rem;
    transform:translateY(1px);
  }
  .nav-back:hover{
    background:#111827;
    color:#f9fafb;
    transform:translateY(-1px);
  }
  .nav-pill{
    padding:5px 10px;
    border-radius:999px;
    border:1px solid #d1d5db;
    font-size:.72rem;
    text-transform:uppercase;
    letter-spacing:.14em;
    background:#ffffff;
  }

  /* PAGE + HERO */
  .page{
    max-width:900px;
    margin:0 auto;
    padding:24px 16px 40px;
  }
  .hero-ivcf{
    margin-bottom:18px;
  }
  .hero-badge{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:4px 11px;
    border-radius:999px;
    border:1px solid rgba(148,163,184,.5);
    font-size:.75rem;
    letter-spacing:.16em;
    text-transform:uppercase;
    color:var(--muted);
    background:rgba(255,255,255,.9);
    backdrop-filter:blur(18px);
  }
  .hero-badge-dot{
    width:6px;
    height:6px;
    border-radius:999px;
    background:#22c55e;
    box-shadow:0 0 0 4px rgba(34,197,94,.2);
  }
  .hero-title{
    margin:14px 0 4px;
    font-size:clamp(1.7rem,2.3vw,2rem);
    line-height:1.1;
    letter-spacing:.02em;
  }
  .hero-title span{
    display:block;
    font-weight:300;
    color:var(--muted);
  }
  .hero-text{
    margin:0;
    margin-top:6px;
    font-size:.92rem;
    color:var(--muted);
    max-width:640px;
  }

  /* CARD WRAPPER ‚Äì √°rea do instrumento */
  .card-wrapper{
    background:#ffffff;
    border-radius:20px;
    border:1px solid var(--border);
    box-shadow:0 18px 45px rgba(15,23,42,.08);
    padding:18px 16px 18px;
  }

  /* √Årea interna original (printArea) */
  #printArea h1{
    margin:0 0 8px;
    font-size:1.5rem;
  }
  #printArea .sub{
    color:var(--muted);
    margin:0 0 14px;
    font-size:.9rem;
  }

  section.card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:12px;
    padding:16px;
    box-shadow:0 1px 2px rgba(0,0,0,.04);
  }

  .grid{
    display:grid;
    gap:16px;
    grid-template-columns:1fr;
  }
  @media(min-width:980px){
    .grid{grid-template-columns:1fr 1fr}
  }

  label{display:block;margin:6px 0}
  .q-title{font-weight:700;margin-bottom:6px;font-size:.92rem}
  input[type=radio]{transform:scale(1.05);margin-right:6px;cursor:pointer}
  input[type=text]{
    width:100%;
    padding:8px 10px;
    border:1px solid var(--border);
    border-radius:8px;
    font-size:0.95rem;
    background:#fff;
  }
  input[type=text]:focus{
    border-color:var(--focus);
    box-shadow:0 0 0 3px rgba(79,70,229,.15);
    outline:none;
  }

  .actions{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-top:10px;
  }
  button{
    padding:8px 13px;
    border:none;
    border-radius:999px;
    cursor:pointer;
    font-weight:700;
    font-size:.85rem;
    display:inline-flex;
    align-items:center;
    gap:6px;
    transition:background .18s,transform .08s,box-shadow .18s;
  }
  .btn-primary{
    background:#4f46e5;
    color:#fff;
    box-shadow:0 12px 24px rgba(79,70,229,.35);
  }
  .btn-primary:hover{
    background:#3730a3;
    transform:translateY(-1px);
    box-shadow:0 16px 32px rgba(55,48,163,.45);
  }
  .btn-secondary{
    background:#e5e7eb;
    color:#111;
  }
  .btn-secondary:hover{
    background:#d1d5db;
    transform:translateY(-1px);
  }

  .result-panel{
    border:1px solid var(--border);
    border-radius:12px;
    padding:12px;
    background:#fff;
    margin-top:16px;
    font-size:.9rem;
  }
  .kpi{
    display:flex;
    align-items:baseline;
    justify-content:space-between;
    gap:12px;
    flex-wrap:wrap;
  }
  .value{
    font-size:1.6rem;
    font-weight:800;
  }
  .pill{
    display:inline-block;
    padding:6px 10px;
    border-radius:999px;
    font-size:.85rem;
    font-weight:700;
  }
  .pill-ok{background:var(--ok-bg);color:var(--ok)}
  .pill-warn{background:var(--warn-bg);color:var(--warn)}
  .pill-bad{background:var(--bad-bg);color:var(--bad)}
  .small{
    font-size:.82rem;
    color:var(--muted);
  }
  .hr{
    height:1px;
    background:var(--border);
    margin:10px 0;
  }

  /* FOOTER PLATAFORMA */
  footer.site-footer{
    border-top:1px solid rgba(209,213,219,.7);
    margin-top:26px;
    padding:12px 16px 18px;
    font-size:.8rem;
    color:var(--muted);
    display:flex;
    justify-content:space-between;
    gap:8px;
    flex-wrap:wrap;
    max-width:900px;
    margin-left:auto;
    margin-right:auto;
  }
  footer.site-footer strong{
    font-weight:500;
    color:#111827;
  }

  @media (max-width:640px){
    .nav-inner{
      flex-direction:column;
      align-items:flex-start;
    }
    .page{
      padding:20px 14px 32px;
    }
  }

  /* IMPRESS√ÉO ‚Äì s√≥ a √°rea do instrumento */
  @media print{
    header.site-header,
    footer.site-footer,
    .hero-ivcf{
      display:none!important;
    }
    body{
      background:#fff;
      font-size:0.85rem;
    }
    .page{
      padding:0;
      margin:0;
      max-width:none;
    }
    .card-wrapper{
      border-radius:0;
      border:0;
      box-shadow:none;
      padding:0;
    }
    section.card{
      box-shadow:none;
    }
    @page{
      size:A4 portrait;
      margin:1.2cm;
    }
  }
</style>
</head>
<body>

<header class="site-header">
  <div class="nav-inner">
    <div class="brand">
      <img src="logo.png" alt="Logo MedCALC" class="brand-logo">
      <div class="brand-text">
        <div class="brand-title">MedCALC</div>
        <div class="brand-subtitle">M√≥dulo ‚Ä¢ Geriatria</div>
      </div>
    </div>
    <nav class="nav-links">
      <!-- volta para o index do m√≥dulo Geriatria -->
      <a href="index.html" class="nav-back">
        <span>‚¨Ö</span>
        <span>Voltar</span>
      </a>
      <span class="nav-pill">Geriatria</span>
    </nav>
  </div>
</header>

<main class="page">
  <!-- HERO -->
  <section class="hero-ivcf">
    <div class="hero-badge">
      <span class="hero-badge-dot"></span>
      AVALIA√á√ÉO DO IDOSO ‚Ä¢ IVCF-20
    </div>
    <h1 class="hero-title">
      IVCF-20 ‚Äì Vulnerabilidade Cl√≠nico-Funcional
      <span>Rastreamento r√°pido de fragilidade e risco em pessoas idosas na APS.</span>
    </h1>
    <p class="hero-text">
      Instrumento de 20 itens validado pelo Minist√©rio da Sa√∫de para estimar vulnerabilidade cl√≠nico-funcional
      e orientar a necessidade de avalia√ß√£o multidimensional e interven√ß√£o interdisciplinar.
    </p>
  </section>

  <!-- CARD PRINCIPAL / √ÅREA IMPRESSA -->
  <section class="card-wrapper">
    <div id="printArea">
      <div class="container">
        <h1>IVCF-20 ‚Äì Instrumento de Vulnerabilidade Cl√≠nico-Funcional</h1>
        <p class="sub">
          Avalia√ß√£o individual de idosos, composta por 20 itens que rastreiam vulnerabilidade cl√≠nico-funcional.
          Marque a op√ß√£o que melhor descreve o paciente.
        </p>

        <section class="card">
          <div class="grid">
            <div>
              <label class="q-title">Nome do paciente</label>
              <input id="nome" type="text" placeholder="Digite o nome completo">
            </div>
            <div>
              <label class="q-title">Observa√ß√µes</label>
              <input id="obs" type="text" placeholder="UBS, data, contexto etc.">
            </div>
          </div>
        </section>

        <form id="formIVCF">
          <section class="card">
            <div class="grid">
              <!-- Coluna 1 -->
              <div>
                <div class="q"><div class="q-title">1) Idade</div>
                  <label><input type="radio" name="q1" value="0"> &lt;69 anos (0)</label>
                  <label><input type="radio" name="q1" value="1"> 70‚Äì79 anos (1)</label>
                  <label><input type="radio" name="q1" value="2"> ‚â•80 anos (2)</label>
                </div>

                <div class="q"><div class="q-title">2) Autopercep√ß√£o de sa√∫de</div>
                  <label><input type="radio" name="q2" value="0"> Igual/melhor que a de outros (0)</label>
                  <label><input type="radio" name="q2" value="1"> Pior que a de outros (1)</label>
                </div>

                <div class="q"><div class="q-title">3) Atividades b√°sicas de vida di√°ria</div>
                  <label><input type="radio" name="q3" value="0"> Independente (0)</label>
                  <label><input type="radio" name="q3" value="1"> Alguma depend√™ncia (1)</label>
                  <label><input type="radio" name="q3" value="2"> Dependente (2)</label>
                </div>

                <div class="q"><div class="q-title">4) Atividades instrumentais de vida di√°ria</div>
                  <label><input type="radio" name="q4" value="0"> Independente (0)</label>
                  <label><input type="radio" name="q4" value="1"> Alguma depend√™ncia (1)</label>
                  <label><input type="radio" name="q4" value="2"> Dependente (2)</label>
                </div>

                <div class="q"><div class="q-title">5) Cogni√ß√£o</div>
                  <label><input type="radio" name="q5" value="0"> Sem decl√≠nio cognitivo (0)</label>
                  <label><input type="radio" name="q5" value="1"> Decl√≠nio leve (1)</label>
                  <label><input type="radio" name="q5" value="2"> Comprometimento cognitivo importante (2)</label>
                </div>

                <div class="q"><div class="q-title">6) Humor</div>
                  <label><input type="radio" name="q6" value="0"> Sem sintomas depressivos (0)</label>
                  <label><input type="radio" name="q6" value="1"> Sintomas leves (1)</label>
                  <label><input type="radio" name="q6" value="2"> Sintomas significativos (2)</label>
                </div>

                <div class="q"><div class="q-title">7) Mobilidade (marcha e equil√≠brio)</div>
                  <label><input type="radio" name="q7" value="0"> Normal (0)</label>
                  <label><input type="radio" name="q7" value="1"> Dificuldade leve (1)</label>
                  <label><input type="radio" name="q7" value="2"> Dificuldade importante / n√£o anda (2)</label>
                </div>

                <div class="q"><div class="q-title">8) Comunica√ß√£o (audi√ß√£o e vis√£o)</div>
                  <label><input type="radio" name="q8" value="0"> Sem limita√ß√£o (0)</label>
                  <label><input type="radio" name="q8" value="1"> Alguma limita√ß√£o (1)</label>
                  <label><input type="radio" name="q8" value="2"> Limita√ß√£o importante (2)</label>
                </div>

                <div class="q"><div class="q-title">9) Nutri√ß√£o</div>
                  <label><input type="radio" name="q9" value="0"> Alimenta√ß√£o adequada (0)</label>
                  <label><input type="radio" name="q9" value="1"> Apetite reduzido (1)</label>
                  <label><input type="radio" name="q9" value="2"> Perda de peso / desnutri√ß√£o (2)</label>
                </div>

                <div class="q"><div class="q-title">10) Polifarm√°cia</div>
                  <label><input type="radio" name="q10" value="0"> At√© 3 medicamentos (0)</label>
                  <label><input type="radio" name="q10" value="1"> 4‚Äì6 medicamentos (1)</label>
                  <label><input type="radio" name="q10" value="2"> ‚â•7 medicamentos (2)</label>
                </div>
              </div>

              <!-- Coluna 2 -->
              <div>
                <div class="q"><div class="q-title">11) Hospitaliza√ß√µes no √∫ltimo ano</div>
                  <label><input type="radio" name="q11" value="0"> Nenhuma (0)</label>
                  <label><input type="radio" name="q11" value="1"> Uma (1)</label>
                  <label><input type="radio" name="q11" value="2"> Duas ou mais (2)</label>
                </div>

                <div class="q"><div class="q-title">12) Quedas no √∫ltimo ano</div>
                  <label><input type="radio" name="q12" value="0"> Nenhuma (0)</label>
                  <label><input type="radio" name="q12" value="1"> Uma (1)</label>
                  <label><input type="radio" name="q12" value="2"> Duas ou mais (2)</label>
                </div>

                <div class="q"><div class="q-title">13) Contin√™ncia urin√°ria e fecal</div>
                  <label><input type="radio" name="q13" value="0"> Cont√≠nuo (0)</label>
                  <label><input type="radio" name="q13" value="1"> Incontin√™ncia leve (1)</label>
                  <label><input type="radio" name="q13" value="2"> Incontin√™ncia severa (2)</label>
                </div>

                <div class="q"><div class="q-title">14) Dor cr√¥nica</div>
                  <label><input type="radio" name="q14" value="0"> Sem dor (0)</label>
                  <label><input type="radio" name="q14" value="1"> Dor leve / controlada (1)</label>
                  <label><input type="radio" name="q14" value="2"> Dor intensa / limitante (2)</label>
                </div>

                <div class="q"><div class="q-title">15) Doen√ßas cr√¥nicas</div>
                  <label><input type="radio" name="q15" value="0"> At√© 1 doen√ßa (0)</label>
                  <label><input type="radio" name="q15" value="1"> 2‚Äì3 doen√ßas (1)</label>
                  <label><input type="radio" name="q15" value="2"> ‚â•4 doen√ßas (2)</label>
                </div>

                <div class="q"><div class="q-title">16) Apoio social</div>
                  <label><input type="radio" name="q16" value="0"> Bom apoio social (0)</label>
                  <label><input type="radio" name="q16" value="1"> Apoio limitado (1)</label>
                  <label><input type="radio" name="q16" value="2"> Isolamento social (2)</label>
                </div>

                <div class="q"><div class="q-title">17) Situa√ß√£o familiar</div>
                  <label><input type="radio" name="q17" value="0"> Rela√ß√µes harmoniosas (0)</label>
                  <label><input type="radio" name="q17" value="1"> Conflitos leves (1)</label>
                  <label><input type="radio" name="q17" value="2"> Conflitos graves / risco (2)</label>
                </div>

                <div class="q"><div class="q-title">18) Situa√ß√£o econ√¥mica</div>
                  <label><input type="radio" name="q18" value="0"> Est√°vel (0)</label>
                  <label><input type="radio" name="q18" value="1"> Dificuldades leves (1)</label>
                  <label><input type="radio" name="q18" value="2"> Dificuldade severa (2)</label>
                </div>

                <div class="q"><div class="q-title">19) Espiritualidade / apoio religioso</div>
                  <label><input type="radio" name="q19" value="0"> Mant√©m f√© / espiritualidade (0)</label>
                  <label><input type="radio" name="q19" value="1"> Diminu√≠da (1)</label>
                  <label><input type="radio" name="q19" value="2"> Ausente (2)</label>
                </div>

                <div class="q"><div class="q-title">20) Autopercep√ß√£o de funcionalidade</div>
                  <label><input type="radio" name="q20" value="0"> Funcional (0)</label>
                  <label><input type="radio" name="q20" value="1"> Dificuldades leves (1)</label>
                  <label><input type="radio" name="q20" value="2"> Dificuldades importantes (2)</label>
                </div>
              </div>
            </div>

            <div class="actions">
              <button type="button" class="btn-primary" id="btnCalc">Calcular escore</button>
              <button type="reset" class="btn-secondary">Limpar</button>
              <button type="button" class="btn-secondary" id="btnPrint">üñ®Ô∏è Imprimir / PDF</button>
            </div>
          </section>
        </form>

        <div id="painel" class="result-panel">
          Preencha todas as quest√µes para ver o escore total do IVCF-20.
        </div>

        <p class="small" style="margin-top:8px">
          <b>Classifica√ß√£o validada:</b> 0‚Äì6 Sem vulnerabilidade cl√≠nico-funcional ¬∑ 7‚Äì14 Risco de vulnerabilidade ¬∑ ‚â•15 Vulner√°vel.<br>
          Refer√™ncia: Minist√©rio da Sa√∫de ‚Äì Manual de Avalia√ß√£o Multidimensional da Pessoa Idosa: Aplica√ß√µes do IVCF-20 e do ICOPE (2022).
        </p>
      </div>
    </div>
  </section>
</main>

<footer class="site-footer">
  <span>Desenvolvido por <strong>Gabriel Ortega Antonio</strong></span>
  <span>M√≥dulo Geriatria ‚Ä¢ IVCF-20</span>
</footer>

<script>
(function(){
  const $ = s => document.querySelector(s);
  const painel = $('#painel');

  function totalizar(){
    let total = 0, respondidas = 0;
    for(let i=1;i<=20;i++){
      const sel = document.querySelector(`input[name=q${i}]:checked`);
      if(sel){ total += Number(sel.value); respondidas++; }
    }
    return {total, respondidas};
  }

  function classe(total){
    if(total <= 6) return {txt:'Sem vulnerabilidade cl√≠nico-funcional', cls:'pill-ok'};
    if(total <= 14) return {txt:'Risco de vulnerabilidade', cls:'pill-warn'};
    return {txt:'Vulner√°vel', cls:'pill-bad'};
  }

  function render(){
    const {total, respondidas} = totalizar();
    if(respondidas < 20){
      painel.className='result-panel';
      painel.textContent = `Responda todas as 20 quest√µes (${respondidas}/20).`;
      return;
    }
    const cat = classe(total);
    const nome = $('#nome').value.trim();
    const obs = $('#obs').value.trim();
    painel.className='result-panel';
    painel.innerHTML = `
      <div class="kpi">
        <div>
          <div class="small">Escore total</div>
          <div class="value">${total} / 40</div>
        </div>
        <span class="pill ${cat.cls}">${cat.txt}</span>
      </div>
      <div class="hr"></div>
      <div class="small">
        ${nome ? `<b>Paciente:</b> ${nome} ¬∑ ` : ''}<b>Itens:</b> 20/20
        ${obs ? `<br><b>Observa√ß√µes:</b> ${obs}` : ''}
      </div>
    `;
  }

  document.addEventListener('change', e=>{
    if(e.target.type==='radio' || e.target.id==='obs' || e.target.id==='nome'){ render(); }
  });
  $('#btnCalc').addEventListener('click', render);
  $('#btnPrint').addEventListener('click', ()=>window.print());
})();
</script>
</body>
</html>
